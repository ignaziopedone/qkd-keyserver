<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1256px" preserveAspectRatio="none" style="width:1478px;height:1256px;background:#FFFFFF;" version="1.1" viewBox="0 0 1478 1256" width="1478px" zoomAndPan="magnify"><defs><filter height="300%" id="f8y2uqzie7fuw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="314" y="191.6953"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="233.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="314" y="380.4922"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="262.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="314" y="746.0859"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="162.5625"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="409.625"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="775.2188"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="950.0156"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827" y="249.9609"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827" y="526.1563"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827" y="862.6172"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827" y="1095.6797"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1095" y="279.0938"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="116.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1095" y="497.0234"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1095" y="833.4844"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1095" y="1066.5469"/><rect fill="#FFFFFF" filter="url(#f8y2uqzie7fuw)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="375" x="520" y="628.5547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="88.2969" y2="1171.9453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="319" x2="319" y1="88.2969" y2="1171.9453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="586" x2="586" y1="88.2969" y2="1171.9453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="832" x2="832" y1="88.2969" y2="1171.9453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1100" x2="1100" y1="88.2969" y2="1171.9453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1427" x2="1427" y1="88.2969" y2="1171.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="84.9951">Alice's SAE</text><ellipse cx="47" cy="15" fill="#F08080" filter="url(#f8y2uqzie7fuw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M47,23 L47,50 M34,31 L60,31 M47,50 L34,65 M47,50 L60,65 " fill="none" filter="url(#f8y2uqzie7fuw)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="1183.9404">Alice's SAE</text><ellipse cx="47" cy="1197.2422" fill="#F08080" filter="url(#f8y2uqzie7fuw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M47,1205.2422 L47,1232.2422 M34,1213.2422 L60,1213.2422 M47,1232.2422 L34,1247.2422 M47,1232.2422 L60,1247.2422 " fill="none" filter="url(#f8y2uqzie7fuw)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="94" x="270" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="277" y="72.9951">Alice's QKS</text><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="94" x="270" y="1170.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="277" y="1190.9404">Alice's QKS</text><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="530" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="537" y="72.9951">Alice's QKDM</text><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="530" y="1170.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="537" y="1190.9404">Alice's QKDM</text><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="102" x="779" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="786" y="72.9951">Bob's QKDM</text><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="102" x="779" y="1170.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="786" y="1190.9404">Bob's QKDM</text><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="88" x="1054" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1061" y="72.9951">Bob's QKS</text><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="88" x="1054" y="1170.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1061" y="1190.9404">Bob's QKS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1388" y="84.9951">Bob's SAE</text><ellipse cx="1427" cy="15" fill="#F08080" filter="url(#f8y2uqzie7fuw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M1427,23 L1427,50 M1414,31 L1440,31 M1427,50 L1414,65 M1427,50 L1440,65 " fill="none" filter="url(#f8y2uqzie7fuw)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1388" y="1183.9404">Bob's SAE</text><ellipse cx="1427" cy="1197.2422" fill="#F08080" filter="url(#f8y2uqzie7fuw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M1427,1205.2422 L1427,1232.2422 M1414,1213.2422 L1440,1213.2422 M1427,1232.2422 L1414,1247.2422 M1427,1232.2422 L1440,1247.2422 " fill="none" filter="url(#f8y2uqzie7fuw)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="314" y="191.6953"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="233.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="314" y="380.4922"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="262.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="314" y="746.0859"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="162.5625"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="409.625"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="775.2188"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="581" y="950.0156"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827" y="249.9609"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827" y="526.1563"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827" y="862.6172"/><rect fill="#90EE90" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827" y="1095.6797"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1095" y="279.0938"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="116.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1095" y="497.0234"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1095" y="833.4844"/><rect fill="#ADD8E6" filter="url(#f8y2uqzie7fuw)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1095" y="1066.5469"/><rect fill="#EEEEEE" filter="url(#f8y2uqzie7fuw)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1471" x="0" y="118.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1471" y1="118.8633" y2="118.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1471" y1="121.8633" y2="121.8633"/><rect fill="#EEEEEE" filter="url(#f8y2uqzie7fuw)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="208" x="631.5" y="108.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="189" x="637.5" y="124.3638">QKD module registration</text><polygon fill="#008000" points="569,158.5625,579,162.5625,569,166.5625,573,162.5625" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="0" x2="575" y1="162.5625" y2="162.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="145.5" y="157.4966">1.1</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="45" x="172.5" y="157.4966">admin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="221.5" y="157.4966">attach_to_server( {server info} )</text><polygon fill="#0000FF" points="335,187.6953,325,191.6953,335,195.6953,331,191.6953" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="329" x2="580" y1="191.6953" y2="191.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="339.5" y="186.6294">1.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="366.5" y="186.6294">registerQKDM( {module info} )</text><polygon fill="#0000FF" points="574,216.8281,584,220.8281,574,224.8281,578,220.8281" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="319" x2="580" y1="220.8281" y2="220.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="336" y="215.7622">1.3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="362" y="215.7622">&lt; environment data for QKDM &gt;</text><polygon fill="#008000" points="848,245.9609,838,249.9609,848,253.9609,844,249.9609" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="842" x2="1470" y1="249.9609" y2="249.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="1009" y="244.895">1.4</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="45" x="1036" y="244.895">admin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1085" y="244.895">attach_to_server( {server info} )</text><polygon fill="#0000FF" points="1083,275.0938,1093,279.0938,1083,283.0938,1087,279.0938" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="837" x2="1089" y1="279.0938" y2="279.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="853" y="274.0278">1.5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="880" y="274.0278">registerQKDM( {module info} )</text><polygon fill="#0000FF" points="843,304.2266,833,308.2266,843,312.2266,839,308.2266" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="837" x2="1099" y1="308.2266" y2="308.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="849" y="303.1606">1.6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="876" y="303.1606">&lt; environment data for QKDM &gt;</text><rect fill="#EEEEEE" filter="url(#f8y2uqzie7fuw)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1471" x="0" y="336.793"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1471" y1="336.793" y2="336.793"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1471" y1="339.793" y2="339.793"/><rect fill="#EEEEEE" filter="url(#f8y2uqzie7fuw)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="175" x="648" y="326.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="654" y="342.2935">Key stream creation</text><polygon fill="#0000FF" points="302,376.4922,312,380.4922,302,384.4922,306,380.4922" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="0" x2="308" y1="380.4922" y2="380.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="23.5" y="375.4263">2.1</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="45" x="50.5" y="375.4263">admin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="99.5" y="375.4263">startQKDMStream( QKDM_ID )</text><polygon fill="#008000" points="569,405.625,579,409.625,569,413.625,573,409.625" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="324" x2="575" y1="409.625" y2="409.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="359.5" y="404.5591">2.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="386.5" y="404.5591">open_connect ( src, dst )</text><polygon fill="#008000" points="820,434.7578,830,438.7578,820,442.7578,824,438.7578" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="591" x2="826" y1="438.7578" y2="438.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="603" y="433.6919">2.3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="629" y="433.6919">open_stream(  src, dst, KSID )</text><polygon fill="#008000" points="335,463.8906,325,467.8906,335,471.8906,331,467.8906" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329" x2="585" y1="467.8906" y2="467.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="413" y="462.8247">2.4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="440" y="462.8247">&lt; KSID &gt;</text><polygon fill="#0000FF" points="1083,493.0234,1093,497.0234,1083,501.0234,1087,497.0234" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="324" x2="1089" y1="497.0234" y2="497.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="596.5" y="491.9575">2.5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="623.5" y="491.9575">createStream ( src, KSID, type)</text><polygon fill="#008000" points="848,522.1563,838,526.1563,848,530.1563,844,526.1563" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="842" x2="1094" y1="526.1563" y2="526.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="854.5" y="521.0903">2.6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="881.5" y="521.0903">open_connect ( src, dst, KSID )</text><polygon fill="#008000" points="597,551.2891,587,555.2891,597,559.2891,593,555.2891" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="591" x2="826" y1="555.2891" y2="555.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="636" y="550.2231">2.7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="663" y="550.2231">exchange ( KSID )</text><polygon fill="#008000" points="1083,580.4219,1093,584.4219,1083,588.4219,1087,584.4219" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="832" x2="1089" y1="584.4219" y2="584.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="921.5" y="579.356">2.8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="948.5" y="579.356">&lt; KSID &gt;</text><polygon fill="#0000FF" points="330,609.5547,320,613.5547,330,617.5547,326,613.5547" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="324" x2="1099" y1="613.5547" y2="613.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="673" y="608.4888">2.9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="700" y="608.4888">&lt; OK &gt;</text><path d="M520,628.5547 L598,628.5547 L598,635.5547 L588,645.5547 L520,645.5547 L520,628.5547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="375" x="520" y="628.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="535" y="641.6216">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="613" y="640.7651">[exchange keys]</text><polygon fill="#008000" points="597,662.8203,587,666.8203,597,670.8203,593,666.8203" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="820,662.8203,830,666.8203,820,670.8203,824,666.8203" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="591" x2="826" y1="666.8203" y2="666.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="606" y="661.7544">2.10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="643" y="661.7544">continuous QKD exchange</text><rect fill="#EEEEEE" filter="url(#f8y2uqzie7fuw)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1471" x="0" y="702.3867"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1471" y1="702.3867" y2="702.3867"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1471" y1="705.3867" y2="705.3867"/><rect fill="#EEEEEE" filter="url(#f8y2uqzie7fuw)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="110" x="680.5" y="691.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91" x="686.5" y="707.8872">Key request</text><polygon fill="#0000FF" points="302,742.0859,312,746.0859,302,750.0859,306,746.0859" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="47" x2="308" y1="746.0859" y2="746.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="56.5" y="741.02">3.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="82.5" y="741.02">getKey (slave_SAE_ID, size, count)</text><polygon fill="#008000" points="569,771.2188,579,775.2188,569,779.2188,573,775.2188" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="324" x2="575" y1="775.2188" y2="775.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="382.5" y="770.1528">3.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="408.5" y="770.1528">get_key_ID (KSID)</text><polygon fill="#008000" points="335,800.3516,325,804.3516,335,808.3516,331,804.3516" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329" x2="585" y1="804.3516" y2="804.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="414.5" y="799.2856">3.3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="439.5" y="799.2856">&lt; KIDs &gt;</text><polygon fill="#0000FF" points="1083,829.4844,1093,833.4844,1083,837.4844,1087,833.4844" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="324" x2="1089" y1="833.4844" y2="833.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="487" y="828.4185">3.4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419" x="513" y="828.4185">reserveKeys ( master_SAE_ID, slave_SAE_ID, size, {AKID, KIDs} )</text><polygon fill="#008000" points="848,858.6172,838,862.6172,848,866.6172,844,862.6172" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="842" x2="1094" y1="862.6172" y2="862.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="871" y="857.5513">3.5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="897" y="857.5513">check_key_id (KSID, KIDs)</text><polygon fill="#008000" points="1083,887.75,1093,891.75,1083,895.75,1087,891.75" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="832" x2="1089" y1="891.75" y2="891.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="927.5" y="886.6841">3.6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="953.5" y="886.6841">&lt; OK &gt;</text><polygon fill="#0000FF" points="335,916.8828,325,920.8828,335,924.8828,331,920.8828" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329" x2="1099" y1="920.8828" y2="920.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="676" y="915.8169">3.7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="702" y="915.8169">&lt; OK &gt;</text><polygon fill="#008000" points="569,946.0156,579,950.0156,569,954.0156,573,950.0156" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="324" x2="575" y1="950.0156" y2="950.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="374.5" y="944.9497">3.8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="400.5" y="944.9497">get_key (KSID, KIDs)</text><polygon fill="#008000" points="335,975.1484,325,979.1484,335,983.1484,331,979.1484" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329" x2="585" y1="979.1484" y2="979.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="395" y="974.0825">3.9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="421" y="974.0825">&lt; keys, KIDs &gt;</text><polygon fill="#0000FF" points="58,1004.2813,48,1008.2813,58,1012.2813,54,1008.2813" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="318" y1="1008.2813" y2="1008.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="120.5" y="1003.2153">3.10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="156.5" y="1003.2153">&lt; AKID, key &gt;</text><polygon fill="#FF0000" points="1415,1033.4141,1425,1037.4141,1415,1041.4141,1419,1037.4141" style="stroke:#FF0000;stroke-width:1.0;"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="47" x2="1421" y1="1037.4141" y2="1037.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31" x="683.5" y="1032.3481">3.11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="718.5" y="1032.3481">send AKIDs</text><polygon fill="#0000FF" points="1116,1062.5469,1106,1066.5469,1116,1070.5469,1112,1066.5469" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="1110" x2="1426" y1="1066.5469" y2="1066.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31" x="1114.5" y="1061.481">3.12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="1149.5" y="1061.481">getKeyWithKeyIDs (master_SAE_ID, AKID)</text><polygon fill="#008000" points="848,1091.6797,838,1095.6797,848,1099.6797,844,1095.6797" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="842" x2="1094" y1="1095.6797" y2="1095.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="884" y="1090.6138">3.13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="918" y="1090.6138">get_key (KSID, KIDs)</text><polygon fill="#008000" points="1083,1120.8125,1093,1124.8125,1083,1128.8125,1087,1124.8125" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="832" x2="1089" y1="1124.8125" y2="1124.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31" x="899" y="1119.7466">3.14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="934" y="1119.7466">&lt; keys, KIDs &gt;</text><polygon fill="#0000FF" points="1415,1149.9453,1425,1153.9453,1415,1157.9453,1419,1153.9453" style="stroke:#0000FF;stroke-width:1.0;"/><line style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1100" x2="1421" y1="1153.9453" y2="1153.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31" x="1201.5" y="1148.8794">3.15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1236.5" y="1148.8794">&lt; AKID, key &gt;</text><!--MD5=[74822b570bd5aaa5493defb0f7ba4224]
@startuml
skinparam sequenceMessageAlign center
actor "Alice's SAE" as ASAE order 2 #lightCoral
actor "Bob's SAE" as BSAE order 7 #lightCoral
participant "Alice's QKS" as AQKS order 3 #LightBlue
participant "Bob's QKS" as BQKS order 6 #LightBlue
participant "Alice's QKDM" as AQM order 4 #LightGreen
participant "Bob's QKDM" as BQM order 5 #LightGreen

== QKD module registration ==
autonumber 1.1
 [-[#green]> AQM ++ #LightGreen:**admin** attach_to_server( {server info} ) 
AQM -[#blue]> AQKS ++ #LightBlue: registerQKDM( {module info} )
AQKS -[#blue]-> AQM - -: < environment data for QKDM >
deactivate AQM
BQM <[#green]-] ++ #Lightgreen: **admin** attach_to_server( {server info} )
BQM -[#blue]> BQKS ++ #LightBlue: registerQKDM( {module info} )
BQKS -[#blue]-> BQM - -:  < environment data for QKDM >
deactivate BQM

== Key stream creation == 
autonumber inc A

[-[#blue]> AQKS ++ #lightblue: **admin** startQKDMStream( QKDM_ID )
AQKS -[#green]> AQM ++ #lightgreen: open_connect ( src, dst )
AQM -[#green]> BQM : open_stream(  src, dst, KSID )
AQM - -[#green]> AQKS - -: < KSID >
AQKS -[#blue]> BQKS ++ #lightblue: createStream ( src, KSID, type) 
BQKS -[#green]> BQM ++ #lightgreen: open_connect ( src, dst, KSID ) 
BQM -[#green]> AQM : exchange ( KSID )
BQM - -[#green]> BQKS - - : < KSID >
BQKS - -[#blue]> AQKS - - : < OK >
deactivate AQKS

loop exchange keys
    AQM <-[#green]-> BQM : continuous QKD exchange
end


== Key request == 
autonumber inc A

ASAE -[#blue]> AQKS ++ #LightBlue: getKey (slave_SAE_ID, size, count) 
AQKS -[#green]> AQM ++ #LightGreen: get_key_ID (KSID)
AQM -[#green]->AQKS - -: < KIDs > 
AQKS -[#blue]> BQKS ++ #LightBlue: reserveKeys ( master_SAE_ID, slave_SAE_ID, size, {AKID, KIDs} ) 
BQKS -[#green]> BQM ++ #LightGreen: check_key_id (KSID, KIDs)
BQM -[#green]-> BQKS - - : < OK >
BQKS -[#blue]-> AQKS - -: < OK >
AQKS -[#green]> AQM ++ #LightGreen: get_key (KSID, KIDs) 
AQM -[#green]-> AQKS - -: < keys, KIDs >
AQKS -[#blue]-> ASAE - -: < AKID, key >

ASAE -[#red]> BSAE :  send AKIDs  
BSAE -[#blue]> BQKS ++ #LightBlue: getKeyWithKeyIDs (master_SAE_ID, AKID)
BQKS -[#green]> BQM ++ #LightGreen: get_key (KSID, KIDs) 
BQM -[#green]-> BQKS - -: < keys, KIDs > 
BQKS -[#blue]-> BSAE - - :  < AKID, key >
@enduml

PlantUML version 1.2021.11beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>