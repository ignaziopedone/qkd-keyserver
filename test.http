# TO BE TESTED: createStream, closeStream

# NORTHBOUND INTERFACE 
## getStatus
GET http://172.22.152.145:4000/api/v1/keys/SAE31/status HTTP/1.1
content-type: application/json

### 
POST http://172.22.152.145:4000/api/v1/keys/saeID/enc_keys HTTP/1.1
content-type: application/json

{
    "size" : 256, 
    "number" : 3,
    "extension_mandatory" : []
}

### 
## getKeyWithKeyIDs
POST http://172.22.152.145:4000/api/v1/keys/SAE11/dec_keys HTTP/1.1
content-type: application/json

{
    "key_IDs" : ["akid1", "akid3"]
}

###
## getQKDMs
GET http://172.22.152.145:4000/api/v1/qkdms HTTP/1.1

###
## registerSAE
POST http://172.22.152.145:4000/api/v1/saes HTTP/1.1
Content-Type: application/json

{
    "id" : "sae123456"
}

### 
# unregisterSAE
DELETE http://172.22.152.145:4000/api/v1/saes/sae123456 HTTP/1.1

###
GET http://172.22.152.145:8080/api/v1/preferences HTTP/1.1

###
PUT http://172.22.152.145:8080/api/v1/preferences/pref1 HTTP/1.1
Content-Type: application/json

{
    "preference" : "pref1",
    "value" : "pippo2"
}

###
POST http://172.22.152.145:8080/api/v1/qkdms/qkdm1/streams HTTP/1.1

###
DELETE http://172.22.152.145:8080/api/v1/qkdms/qkdm1/streams HTTP/1.1

###
POST http://172.22.152.145:8080/api/v1/qkdms/id1 HTTP/1.1
Content-Type: application/json

{
    "QKDM_ID" : "id1",
    "protocol" : "fake", 
    "QKDM_IP" : "0.0.0.0", 
    "destination_QKS" : "qks2", 
    "max_key_count" : 100, 
    "key_size" : 128
}

###
## reserveKeys
POST http://172.22.152.145:4000/api/v1/keys/SAE22/reserve HTTP/1.1
Content-Type: application/json

{
    "key_stream_ID" : "stream1", 
    "slave_SAE_ID" : "SAE11", 
    "key_lenght" : 256, 
    "key_ID_list" : [{"AKID" : "akidnewnew3", "kids" : ["c1newnew", "c2newnew"]}, 
    {"AKID" : "akidnewnew3", "kids" : ["c3newnew", "c4newnew"]}]
}

###
POST http://172.22.152.145:8080/api/v1/forward HTTP/1.1
Content-Type: application/json

{
    "data" : "blalblblbl",
    "decryption_key_ID" : "id1",
    "decryption_key_stream" : "stream1"
}

###
## createStrean
POST http://172.22.152.145:4000/api/v1/streams HTTP/1.1
Content-Type: application/json

{
    "source_qks_ID" : "qks1",
    "key_stream_ID" : "key_stream1", 
    "type" : "direct",
    "qkdm_address" : "localhost"
}

####
DELETE http://172.22.152.145:4000/api/v1/streams/key_stream1 HTTP/1.1
Content-Type: application/json

{
    "source_qks_ID" : "qks1"
}

